//===----------------------------------------------------------------------===//
//
// This source file is part of the AWSSDKSwift open source project
//
// Copyright (c) 2017-2020 the AWSSDKSwift project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
// See CONTRIBUTORS.txt for the list of AWSSDKSwift project authors
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by https://github.com/swift-aws/aws-sdk-swift/blob/master/CodeGenerator/Sources/CodeGenerator/main.swift. DO NOT EDIT.

import AWSSDKSwiftCore
import Foundation

extension ApiGatewayManagementApi {
    // MARK: Enums

    // MARK: Shapes

    public struct DeleteConnectionRequest: AWSEncodableShape {
        public static var _encoding = [
            AWSMemberEncoding(label: "connectionId", location: .uri(locationName: "connectionId"))
        ]

        public let connectionId: String

        public init(connectionId: String) {
            self.connectionId = connectionId
        }

        private enum CodingKeys: CodingKey {}
    }

    public struct GetConnectionRequest: AWSEncodableShape {
        public static var _encoding = [
            AWSMemberEncoding(label: "connectionId", location: .uri(locationName: "connectionId"))
        ]

        public let connectionId: String

        public init(connectionId: String) {
            self.connectionId = connectionId
        }

        private enum CodingKeys: CodingKey {}
    }

    public struct GetConnectionResponse: AWSDecodableShape {

        @OptionalCoding<ISO8601TimeStampCoder>
        public var connectedAt: TimeStamp?
        public let identity: Identity?
        @OptionalCoding<ISO8601TimeStampCoder>
        public var lastActiveAt: TimeStamp?

        public init(connectedAt: TimeStamp? = nil, identity: Identity? = nil, lastActiveAt: TimeStamp? = nil) {
            self.connectedAt = connectedAt
            self.identity = identity
            self.lastActiveAt = lastActiveAt
        }

        private enum CodingKeys: String, CodingKey {
            case connectedAt = "connectedAt"
            case identity = "identity"
            case lastActiveAt = "lastActiveAt"
        }
    }

    public struct Identity: AWSDecodableShape {

        /// The source IP address of the TCP connection making the request to API Gateway.
        public let sourceIp: String
        /// The User Agent of the API caller.
        public let userAgent: String

        public init(sourceIp: String, userAgent: String) {
            self.sourceIp = sourceIp
            self.userAgent = userAgent
        }

        private enum CodingKeys: String, CodingKey {
            case sourceIp = "sourceIp"
            case userAgent = "userAgent"
        }
    }

    public struct PostToConnectionRequest: AWSEncodableShape & AWSShapeWithPayload {
        /// The key for the payload
        public static let _payloadPath: String = "data"
        public static let _payloadOptions: AWSShapePayloadOptions = [.raw]
        public static var _encoding = [
            AWSMemberEncoding(label: "connectionId", location: .uri(locationName: "connectionId")), 
            AWSMemberEncoding(label: "data", location: .body(locationName: "Data"))
        ]

        public let connectionId: String
        public let data: AWSPayload

        public init(connectionId: String, data: AWSPayload) {
            self.connectionId = connectionId
            self.data = data
        }

        public func validate(name: String) throws {
            try validate(self.data, name: "data", parent: name, max: 131072)
        }

        private enum CodingKeys: CodingKey {}
    }
}
