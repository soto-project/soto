//===----------------------------------------------------------------------===//
//
// This source file is part of the Soto for AWS open source project
//
// Copyright (c) 2017-2024 the Soto project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
// See CONTRIBUTORS.txt for the list of Soto project authors
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by https://github.com/soto-project/soto-codegenerator.
// DO NOT EDIT.

#if os(Linux) && compiler(<5.10)
// swift-corelibs-foundation hasn't been updated with Sendable conformances
@preconcurrency import Foundation
#else
import Foundation
#endif
@_exported import SotoCore

/// Service object for interacting with AWS OAM service.
///
/// Use Amazon CloudWatch Observability Access Manager to create and manage links between source accounts and monitoring accounts by using CloudWatch cross-account observability. With CloudWatch cross-account observability, you can monitor and troubleshoot applications that span multiple accounts within a Region. Seamlessly search, visualize, and analyze your metrics, logs, traces, Application Signals services, service level objectives (SLOs), Application Insights applications, and internet monitors in any of the linked accounts without account boundaries. Set up one or more Amazon Web Services accounts as monitoring accounts and link them with multiple source accounts. A monitoring account is a central Amazon Web Services account that can view and interact with observability data generated from source accounts. A source account is an individual Amazon Web Services account that generates observability data for the resources that reside in it. Source accounts share their observability data with the monitoring account. The shared observability data can include metrics in Amazon CloudWatch, logs in Amazon CloudWatch Logs, traces in X-Ray,  Application Signals services, service level objectives (SLOs), applications in Amazon CloudWatch Application Insights, and internet monitors in CloudWatch Internet Monitor. When you set up a link, you can choose to share the metrics from all namespaces with the monitoring account, or filter to a subset of namespaces.  And for CloudWatch Logs, you can choose to share all log groups with the monitoring account, or filter to a subset of log groups.
public struct OAM: AWSService {
    // MARK: Member variables

    /// Client used for communication with AWS
    public let client: AWSClient
    /// Service configuration
    public let config: AWSServiceConfig

    // MARK: Initialization

    /// Initialize the OAM client
    /// - parameters:
    ///     - client: AWSClient used to process requests
    ///     - region: Region of server you want to communicate with. This will override the partition parameter.
    ///     - partition: AWS partition where service resides, standard (.aws), china (.awscn), government (.awsusgov).
    ///     - endpoint: Custom endpoint URL to use instead of standard AWS servers
    ///     - middleware: Middleware chain used to edit requests before they are sent and responses before they are decoded 
    ///     - timeout: Timeout value for HTTP requests
    ///     - byteBufferAllocator: Allocator for ByteBuffers
    ///     - options: Service options
    public init(
        client: AWSClient,
        region: SotoCore.Region? = nil,
        partition: AWSPartition = .aws,
        endpoint: String? = nil,
        middleware: AWSMiddlewareProtocol? = nil,
        timeout: TimeAmount? = nil,
        byteBufferAllocator: ByteBufferAllocator = ByteBufferAllocator(),
        options: AWSServiceConfig.Options = []
    ) {
        self.client = client
        self.config = AWSServiceConfig(
            region: region,
            partition: region?.partition ?? partition,
            serviceName: "OAM",
            serviceIdentifier: "oam",
            serviceProtocol: .restjson,
            apiVersion: "2022-06-10",
            endpoint: endpoint,
            errorType: OAMErrorType.self,
            middleware: middleware,
            timeout: timeout,
            byteBufferAllocator: byteBufferAllocator,
            options: options
        )
    }





    // MARK: API Calls

    /// Creates a link between a source account and a sink that you have created in a monitoring account. After the link is created,  data is sent from the source account to the monitoring account. When you create a link, you can optionally specify filters that specify which metric namespaces and which log groups are shared from the source account to the monitoring account. Before you create a link, you must create a sink in the monitoring account and create a sink policy in that account. The sink policy must permit the source account to link to it. You can grant permission to source accounts by granting permission to an entire organization or to individual accounts. For more information, see  CreateSink and PutSinkPolicy. Each monitoring account can be linked to as many as 100,000 source accounts. Each source account can be linked to as many as five monitoring accounts.
    @Sendable
    @inlinable
    public func createLink(_ input: CreateLinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> CreateLinkOutput {
        try await self.client.execute(
            operation: "CreateLink", 
            path: "/CreateLink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Creates a link between a source account and a sink that you have created in a monitoring account. After the link is created,  data is sent from the source account to the monitoring account. When you create a link, you can optionally specify filters that specify which metric namespaces and which log groups are shared from the source account to the monitoring account. Before you create a link, you must create a sink in the monitoring account and create a sink policy in that account. The sink policy must permit the source account to link to it. You can grant permission to source accounts by granting permission to an entire organization or to individual accounts. For more information, see  CreateSink and PutSinkPolicy. Each monitoring account can be linked to as many as 100,000 source accounts. Each source account can be linked to as many as five monitoring accounts.
    ///
    /// Parameters:
    ///   - labelTemplate: Specify a friendly human-readable name to use to identify this source account when you are viewing data from it in the monitoring account. You can use a custom label or use the following variables:    $AccountName is the name of the account    $AccountEmail is the globally unique email address of the account    $AccountEmailNoDomain is the email address of the account without the domain name
    ///   - linkConfiguration: Use this structure to optionally create filters that specify that only some metric namespaces or log groups are to be shared from  the source account to the monitoring account.
    ///   - resourceTypes: An array of strings that define which types of data that the source account shares with the monitoring  account.
    ///   - sinkIdentifier: The ARN of the sink to use to create this link. You can use ListSinks to find the ARNs of sinks. For more information about sinks, see  CreateSink.
    ///   - tags: Assigns one or more tags (key-value pairs) to the link.  Tags can help you organize and categorize your resources. You can also use them to scope user permissions by granting a user permission to access or change only resources with certain tag values. For more information about using tags to control access, see  Controlling access to Amazon Web Services resources using tags.
    ///   - logger: Logger use during operation
    @inlinable
    public func createLink(
        labelTemplate: String,
        linkConfiguration: LinkConfiguration? = nil,
        resourceTypes: [ResourceType],
        sinkIdentifier: String,
        tags: [String: String]? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> CreateLinkOutput {
        let input = CreateLinkInput(
            labelTemplate: labelTemplate, 
            linkConfiguration: linkConfiguration, 
            resourceTypes: resourceTypes, 
            sinkIdentifier: sinkIdentifier, 
            tags: tags
        )
        return try await self.createLink(input, logger: logger)
    }

    /// Use this to create a sink in the current account, so that it can be used as a monitoring account in CloudWatch cross-account observability. A sink is a resource that represents an attachment point in a monitoring account. Source accounts can link to the sink to send observability data. After you create a sink, you must create a sink policy that allows source accounts to attach to it.  For more information, see PutSinkPolicy. Each account can contain one sink per Region. If you delete a sink, you can then create a new one in that Region.
    @Sendable
    @inlinable
    public func createSink(_ input: CreateSinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> CreateSinkOutput {
        try await self.client.execute(
            operation: "CreateSink", 
            path: "/CreateSink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Use this to create a sink in the current account, so that it can be used as a monitoring account in CloudWatch cross-account observability. A sink is a resource that represents an attachment point in a monitoring account. Source accounts can link to the sink to send observability data. After you create a sink, you must create a sink policy that allows source accounts to attach to it.  For more information, see PutSinkPolicy. Each account can contain one sink per Region. If you delete a sink, you can then create a new one in that Region.
    ///
    /// Parameters:
    ///   - name: A name for the sink.
    ///   - tags: Assigns one or more tags (key-value pairs) to the link.  Tags can help you organize and categorize your resources. You can also use them to scope user permissions by granting a user permission to access or change only resources with certain tag values. For more information about using tags to control access, see  Controlling access to Amazon Web Services resources using tags.
    ///   - logger: Logger use during operation
    @inlinable
    public func createSink(
        name: String,
        tags: [String: String]? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> CreateSinkOutput {
        let input = CreateSinkInput(
            name: name, 
            tags: tags
        )
        return try await self.createSink(input, logger: logger)
    }

    /// Deletes a link between a monitoring account sink and a source account. You must run this operation in the source account.
    @Sendable
    @inlinable
    public func deleteLink(_ input: DeleteLinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> DeleteLinkOutput {
        try await self.client.execute(
            operation: "DeleteLink", 
            path: "/DeleteLink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Deletes a link between a monitoring account sink and a source account. You must run this operation in the source account.
    ///
    /// Parameters:
    ///   - identifier: The ARN of the link to delete.
    ///   - logger: Logger use during operation
    @inlinable
    public func deleteLink(
        identifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> DeleteLinkOutput {
        let input = DeleteLinkInput(
            identifier: identifier
        )
        return try await self.deleteLink(input, logger: logger)
    }

    /// Deletes a sink. You must delete all links to a sink before you can delete that sink.
    @Sendable
    @inlinable
    public func deleteSink(_ input: DeleteSinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> DeleteSinkOutput {
        try await self.client.execute(
            operation: "DeleteSink", 
            path: "/DeleteSink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Deletes a sink. You must delete all links to a sink before you can delete that sink.
    ///
    /// Parameters:
    ///   - identifier: The ARN of the sink to delete.
    ///   - logger: Logger use during operation
    @inlinable
    public func deleteSink(
        identifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> DeleteSinkOutput {
        let input = DeleteSinkInput(
            identifier: identifier
        )
        return try await self.deleteSink(input, logger: logger)
    }

    /// Returns complete information about one link. To use this operation, provide the link ARN. To retrieve a list of link ARNs, use ListLinks.
    @Sendable
    @inlinable
    public func getLink(_ input: GetLinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> GetLinkOutput {
        try await self.client.execute(
            operation: "GetLink", 
            path: "/GetLink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Returns complete information about one link. To use this operation, provide the link ARN. To retrieve a list of link ARNs, use ListLinks.
    ///
    /// Parameters:
    ///   - identifier: The ARN of the link to retrieve information for.
    ///   - logger: Logger use during operation
    @inlinable
    public func getLink(
        identifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetLinkOutput {
        let input = GetLinkInput(
            identifier: identifier
        )
        return try await self.getLink(input, logger: logger)
    }

    /// Returns complete information about one monitoring account sink. To use this operation, provide the sink ARN. To retrieve a list of sink ARNs, use ListSinks.
    @Sendable
    @inlinable
    public func getSink(_ input: GetSinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> GetSinkOutput {
        try await self.client.execute(
            operation: "GetSink", 
            path: "/GetSink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Returns complete information about one monitoring account sink. To use this operation, provide the sink ARN. To retrieve a list of sink ARNs, use ListSinks.
    ///
    /// Parameters:
    ///   - identifier: The ARN of the sink to retrieve information for.
    ///   - logger: Logger use during operation
    @inlinable
    public func getSink(
        identifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetSinkOutput {
        let input = GetSinkInput(
            identifier: identifier
        )
        return try await self.getSink(input, logger: logger)
    }

    /// Returns the current sink policy attached to this sink. The sink policy specifies what  accounts can attach to this sink as source accounts, and what types of data they can share.
    @Sendable
    @inlinable
    public func getSinkPolicy(_ input: GetSinkPolicyInput, logger: Logger = AWSClient.loggingDisabled) async throws -> GetSinkPolicyOutput {
        try await self.client.execute(
            operation: "GetSinkPolicy", 
            path: "/GetSinkPolicy", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Returns the current sink policy attached to this sink. The sink policy specifies what  accounts can attach to this sink as source accounts, and what types of data they can share.
    ///
    /// Parameters:
    ///   - sinkIdentifier: The ARN of the sink to retrieve the policy of.
    ///   - logger: Logger use during operation
    @inlinable
    public func getSinkPolicy(
        sinkIdentifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetSinkPolicyOutput {
        let input = GetSinkPolicyInput(
            sinkIdentifier: sinkIdentifier
        )
        return try await self.getSinkPolicy(input, logger: logger)
    }

    /// Returns a list of source account links that are linked to this monitoring account sink. To use this operation, provide the sink ARN. To retrieve a list of sink ARNs, use ListSinks. To find a list of links for one source account, use ListLinks.
    @Sendable
    @inlinable
    public func listAttachedLinks(_ input: ListAttachedLinksInput, logger: Logger = AWSClient.loggingDisabled) async throws -> ListAttachedLinksOutput {
        try await self.client.execute(
            operation: "ListAttachedLinks", 
            path: "/ListAttachedLinks", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Returns a list of source account links that are linked to this monitoring account sink. To use this operation, provide the sink ARN. To retrieve a list of sink ARNs, use ListSinks. To find a list of links for one source account, use ListLinks.
    ///
    /// Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - nextToken: The token for the next set of items to return. You received this token from a previous call.
    ///   - sinkIdentifier: The ARN of the sink that you want to retrieve links for.
    ///   - logger: Logger use during operation
    @inlinable
    public func listAttachedLinks(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        sinkIdentifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListAttachedLinksOutput {
        let input = ListAttachedLinksInput(
            maxResults: maxResults, 
            nextToken: nextToken, 
            sinkIdentifier: sinkIdentifier
        )
        return try await self.listAttachedLinks(input, logger: logger)
    }

    /// Use this operation in a source account to return a list of links to monitoring account sinks that this source account has. To find a list of links for one monitoring account sink, use ListAttachedLinks from within the monitoring account.
    @Sendable
    @inlinable
    public func listLinks(_ input: ListLinksInput, logger: Logger = AWSClient.loggingDisabled) async throws -> ListLinksOutput {
        try await self.client.execute(
            operation: "ListLinks", 
            path: "/ListLinks", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Use this operation in a source account to return a list of links to monitoring account sinks that this source account has. To find a list of links for one monitoring account sink, use ListAttachedLinks from within the monitoring account.
    ///
    /// Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - nextToken: The token for the next set of items to return. You received this token from a previous call.
    ///   - logger: Logger use during operation
    @inlinable
    public func listLinks(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListLinksOutput {
        let input = ListLinksInput(
            maxResults: maxResults, 
            nextToken: nextToken
        )
        return try await self.listLinks(input, logger: logger)
    }

    /// Use this operation in a monitoring account to return the list of sinks created in that account.
    @Sendable
    @inlinable
    public func listSinks(_ input: ListSinksInput, logger: Logger = AWSClient.loggingDisabled) async throws -> ListSinksOutput {
        try await self.client.execute(
            operation: "ListSinks", 
            path: "/ListSinks", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Use this operation in a monitoring account to return the list of sinks created in that account.
    ///
    /// Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - nextToken: The token for the next set of items to return. You received this token from a previous call.
    ///   - logger: Logger use during operation
    @inlinable
    public func listSinks(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListSinksOutput {
        let input = ListSinksInput(
            maxResults: maxResults, 
            nextToken: nextToken
        )
        return try await self.listSinks(input, logger: logger)
    }

    /// Displays the tags associated with a resource. Both sinks and links support tagging.
    @Sendable
    @inlinable
    public func listTagsForResource(_ input: ListTagsForResourceInput, logger: Logger = AWSClient.loggingDisabled) async throws -> ListTagsForResourceOutput {
        try await self.client.execute(
            operation: "ListTagsForResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Displays the tags associated with a resource. Both sinks and links support tagging.
    ///
    /// Parameters:
    ///   - resourceArn: The ARN of the  resource that you want to view tags for. The ARN format of a sink is  arn:aws:oam:Region:account-id:sink/sink-id   The ARN format of a link is  arn:aws:oam:Region:account-id:link/link-id   For more information about ARN format, see CloudWatch Logs  resources and operations.  Unlike tagging permissions in other Amazon Web Services services, to retrieve the list of tags for links or sinks you must have the oam:RequestTag permission. The aws:ReguestTag permission does not allow you to tag and untag links and sinks.
    ///   - logger: Logger use during operation
    @inlinable
    public func listTagsForResource(
        resourceArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListTagsForResourceOutput {
        let input = ListTagsForResourceInput(
            resourceArn: resourceArn
        )
        return try await self.listTagsForResource(input, logger: logger)
    }

    /// Creates or updates the resource policy that grants permissions to source accounts to link to the monitoring account sink. When you create a sink policy, you can grant permissions to all accounts in an organization or to individual accounts. You can also use a sink policy to limit the types of data that is shared. The three types that  you can allow or deny are:    Metrics - Specify with AWS::CloudWatch::Metric     Log groups - Specify with AWS::Logs::LogGroup     Traces - Specify with AWS::XRay::Trace     Application Insights - Applications - Specify with AWS::ApplicationInsights::Application    See the examples in this section to see how to specify permitted source accounts and data types.
    @Sendable
    @inlinable
    public func putSinkPolicy(_ input: PutSinkPolicyInput, logger: Logger = AWSClient.loggingDisabled) async throws -> PutSinkPolicyOutput {
        try await self.client.execute(
            operation: "PutSinkPolicy", 
            path: "/PutSinkPolicy", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Creates or updates the resource policy that grants permissions to source accounts to link to the monitoring account sink. When you create a sink policy, you can grant permissions to all accounts in an organization or to individual accounts. You can also use a sink policy to limit the types of data that is shared. The three types that  you can allow or deny are:    Metrics - Specify with AWS::CloudWatch::Metric     Log groups - Specify with AWS::Logs::LogGroup     Traces - Specify with AWS::XRay::Trace     Application Insights - Applications - Specify with AWS::ApplicationInsights::Application    See the examples in this section to see how to specify permitted source accounts and data types.
    ///
    /// Parameters:
    ///   - policy: The JSON policy to use. If you are updating an existing policy, the entire existing policy is replaced by what you specify here. The policy must be in JSON string format with quotation marks escaped and no newlines. For examples of different types of policies, see the Examples section on this page.
    ///   - sinkIdentifier: The ARN of the sink to attach this policy to.
    ///   - logger: Logger use during operation
    @inlinable
    public func putSinkPolicy(
        policy: String,
        sinkIdentifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> PutSinkPolicyOutput {
        let input = PutSinkPolicyInput(
            policy: policy, 
            sinkIdentifier: sinkIdentifier
        )
        return try await self.putSinkPolicy(input, logger: logger)
    }

    /// Assigns one or more tags (key-value pairs) to the specified resource.  Both sinks and links can be tagged.  Tags can help you organize and categorize your resources. You can also use them to scope user permissions by granting a user permission to access or change only resources with certain tag values. Tags don't have any semantic meaning to Amazon Web Services and are interpreted strictly as strings of characters. You can use the TagResource action with a resource that already has tags. If you specify a new tag key for the alarm,  this tag is appended to the list of tags associated with the alarm. If you specify a tag key that is already associated with the alarm, the new tag value that you specify replaces the previous value for that tag. You can associate as many as 50 tags with a resource.  Unlike tagging permissions in other Amazon Web Services services, to tag or untag links and sinks you must have the oam:ResourceTag permission. The iam:ResourceTag permission does not allow you to tag and untag links and sinks.
    @Sendable
    @inlinable
    public func tagResource(_ input: TagResourceInput, logger: Logger = AWSClient.loggingDisabled) async throws -> TagResourceOutput {
        try await self.client.execute(
            operation: "TagResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .PUT, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Assigns one or more tags (key-value pairs) to the specified resource.  Both sinks and links can be tagged.  Tags can help you organize and categorize your resources. You can also use them to scope user permissions by granting a user permission to access or change only resources with certain tag values. Tags don't have any semantic meaning to Amazon Web Services and are interpreted strictly as strings of characters. You can use the TagResource action with a resource that already has tags. If you specify a new tag key for the alarm,  this tag is appended to the list of tags associated with the alarm. If you specify a tag key that is already associated with the alarm, the new tag value that you specify replaces the previous value for that tag. You can associate as many as 50 tags with a resource.  Unlike tagging permissions in other Amazon Web Services services, to tag or untag links and sinks you must have the oam:ResourceTag permission. The iam:ResourceTag permission does not allow you to tag and untag links and sinks.
    ///
    /// Parameters:
    ///   - resourceArn: The ARN of the  resource that you're adding tags to. The ARN format of a sink is  arn:aws:oam:Region:account-id:sink/sink-id   The ARN format of a link is  arn:aws:oam:Region:account-id:link/link-id   For more information about ARN format, see CloudWatch Logs  resources and operations.
    ///   - tags: The list of key-value pairs to associate with the resource.
    ///   - logger: Logger use during operation
    @inlinable
    public func tagResource(
        resourceArn: String,
        tags: [String: String],
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> TagResourceOutput {
        let input = TagResourceInput(
            resourceArn: resourceArn, 
            tags: tags
        )
        return try await self.tagResource(input, logger: logger)
    }

    /// Removes one or more tags from the specified resource.  Unlike tagging permissions in other Amazon Web Services services, to tag or untag links and sinks you must have the oam:ResourceTag permission. The iam:TagResource permission does not allow you to tag and untag links and sinks.
    @Sendable
    @inlinable
    public func untagResource(_ input: UntagResourceInput, logger: Logger = AWSClient.loggingDisabled) async throws -> UntagResourceOutput {
        try await self.client.execute(
            operation: "UntagResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .DELETE, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Removes one or more tags from the specified resource.  Unlike tagging permissions in other Amazon Web Services services, to tag or untag links and sinks you must have the oam:ResourceTag permission. The iam:TagResource permission does not allow you to tag and untag links and sinks.
    ///
    /// Parameters:
    ///   - resourceArn: The ARN of the resource that you're removing tags from. The ARN format of a sink is  arn:aws:oam:Region:account-id:sink/sink-id   The ARN format of a link is  arn:aws:oam:Region:account-id:link/link-id   For more information about ARN format, see CloudWatch Logs  resources and operations.
    ///   - tagKeys: The list of tag keys to remove from the resource.
    ///   - logger: Logger use during operation
    @inlinable
    public func untagResource(
        resourceArn: String,
        tagKeys: [String],
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> UntagResourceOutput {
        let input = UntagResourceInput(
            resourceArn: resourceArn, 
            tagKeys: tagKeys
        )
        return try await self.untagResource(input, logger: logger)
    }

    /// Use this operation to change what types of data are shared from a source account to its linked monitoring account sink. You can't change the sink or change the monitoring account with this operation. When you update a link, you can optionally specify filters that specify which metric namespaces and which log groups are shared from the source account to the monitoring account. To update the list of tags associated with the sink, use  TagResource.
    @Sendable
    @inlinable
    public func updateLink(_ input: UpdateLinkInput, logger: Logger = AWSClient.loggingDisabled) async throws -> UpdateLinkOutput {
        try await self.client.execute(
            operation: "UpdateLink", 
            path: "/UpdateLink", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Use this operation to change what types of data are shared from a source account to its linked monitoring account sink. You can't change the sink or change the monitoring account with this operation. When you update a link, you can optionally specify filters that specify which metric namespaces and which log groups are shared from the source account to the monitoring account. To update the list of tags associated with the sink, use  TagResource.
    ///
    /// Parameters:
    ///   - identifier: The ARN of the link that you want to update.
    ///   - linkConfiguration: Use this structure to filter which metric namespaces and which log groups are to be shared from  the source account to the monitoring account.
    ///   - resourceTypes: An array of strings that define which types of data that the source account will send to the monitoring  account. Your input here replaces the current set of data types that are shared.
    ///   - logger: Logger use during operation
    @inlinable
    public func updateLink(
        identifier: String,
        linkConfiguration: LinkConfiguration? = nil,
        resourceTypes: [ResourceType],
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> UpdateLinkOutput {
        let input = UpdateLinkInput(
            identifier: identifier, 
            linkConfiguration: linkConfiguration, 
            resourceTypes: resourceTypes
        )
        return try await self.updateLink(input, logger: logger)
    }
}

extension OAM {
    /// Initializer required by `AWSService.with(middlewares:timeout:byteBufferAllocator:options)`. You are not able to use this initializer directly as there are not public
    /// initializers for `AWSServiceConfig.Patch`. Please use `AWSService.with(middlewares:timeout:byteBufferAllocator:options)` instead.
    public init(from: OAM, patch: AWSServiceConfig.Patch) {
        self.client = from.client
        self.config = from.config.with(patch: patch)
    }
}

// MARK: Paginators

@available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
extension OAM {
    /// Return PaginatorSequence for operation ``listAttachedLinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listAttachedLinksPaginator(
        _ input: ListAttachedLinksInput,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListAttachedLinksInput, ListAttachedLinksOutput> {
        return .init(
            input: input,
            command: self.listAttachedLinks,
            inputKey: \ListAttachedLinksInput.nextToken,
            outputKey: \ListAttachedLinksOutput.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listAttachedLinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - sinkIdentifier: The ARN of the sink that you want to retrieve links for.
    ///   - logger: Logger used for logging
    @inlinable
    public func listAttachedLinksPaginator(
        maxResults: Int? = nil,
        sinkIdentifier: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListAttachedLinksInput, ListAttachedLinksOutput> {
        let input = ListAttachedLinksInput(
            maxResults: maxResults, 
            sinkIdentifier: sinkIdentifier
        )
        return self.listAttachedLinksPaginator(input, logger: logger)
    }

    /// Return PaginatorSequence for operation ``listLinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listLinksPaginator(
        _ input: ListLinksInput,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListLinksInput, ListLinksOutput> {
        return .init(
            input: input,
            command: self.listLinks,
            inputKey: \ListLinksInput.nextToken,
            outputKey: \ListLinksOutput.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listLinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - logger: Logger used for logging
    @inlinable
    public func listLinksPaginator(
        maxResults: Int? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListLinksInput, ListLinksOutput> {
        let input = ListLinksInput(
            maxResults: maxResults
        )
        return self.listLinksPaginator(input, logger: logger)
    }

    /// Return PaginatorSequence for operation ``listSinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listSinksPaginator(
        _ input: ListSinksInput,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListSinksInput, ListSinksOutput> {
        return .init(
            input: input,
            command: self.listSinks,
            inputKey: \ListSinksInput.nextToken,
            outputKey: \ListSinksOutput.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listSinks(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: Limits the number of returned links to the specified number.
    ///   - logger: Logger used for logging
    @inlinable
    public func listSinksPaginator(
        maxResults: Int? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListSinksInput, ListSinksOutput> {
        let input = ListSinksInput(
            maxResults: maxResults
        )
        return self.listSinksPaginator(input, logger: logger)
    }
}

extension OAM.ListAttachedLinksInput: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> OAM.ListAttachedLinksInput {
        return .init(
            maxResults: self.maxResults,
            nextToken: token,
            sinkIdentifier: self.sinkIdentifier
        )
    }
}

extension OAM.ListLinksInput: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> OAM.ListLinksInput {
        return .init(
            maxResults: self.maxResults,
            nextToken: token
        )
    }
}

extension OAM.ListSinksInput: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> OAM.ListSinksInput {
        return .init(
            maxResults: self.maxResults,
            nextToken: token
        )
    }
}
