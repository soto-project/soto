//===----------------------------------------------------------------------===//
//
// This source file is part of the Soto for AWS open source project
//
// Copyright (c) 2017-2024 the Soto project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
// See CONTRIBUTORS.txt for the list of Soto project authors
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by https://github.com/soto-project/soto-codegenerator.
// DO NOT EDIT.

#if canImport(FoundationEssentials)
import FoundationEssentials
#else
import Foundation
#endif
@_exported import SotoCore

/// Service object for interacting with AWS MWAAServerless service.
///
/// Amazon Managed Workflows for Apache Airflow Serverless provides a managed workflow orchestration platform for running Apache Airflow workflows in a serverless environment. You can use Amazon Managed Workflows for Apache Airflow Serverless to create, manage, and run data processing workflows without managing the underlying infrastructure, Airflow clusters, metadata databases, or scheduling overhead. The service provides secure multi-tenant run environments with automatic scaling, comprehensive logging, and integration with multiple Amazon Web Services services for orchestrating complex analytics workloads.
public struct MWAAServerless: AWSService {
    // MARK: Member variables

    /// Client used for communication with AWS
    public let client: AWSClient
    /// Service configuration
    public let config: AWSServiceConfig

    // MARK: Initialization

    /// Initialize the MWAAServerless client
    /// - parameters:
    ///     - client: AWSClient used to process requests
    ///     - region: Region of server you want to communicate with. This will override the partition parameter.
    ///     - partition: AWS partition where service resides, standard (.aws), china (.awscn), government (.awsusgov).
    ///     - endpoint: Custom endpoint URL to use instead of standard AWS servers
    ///     - middleware: Middleware chain used to edit requests before they are sent and responses before they are decoded 
    ///     - timeout: Timeout value for HTTP requests
    ///     - byteBufferAllocator: Allocator for ByteBuffers
    ///     - options: Service options
    public init(
        client: AWSClient,
        region: SotoCore.Region? = nil,
        partition: AWSPartition = .aws,
        endpoint: String? = nil,
        middleware: AWSMiddlewareProtocol? = nil,
        timeout: TimeAmount? = nil,
        byteBufferAllocator: ByteBufferAllocator = ByteBufferAllocator(),
        options: AWSServiceConfig.Options = []
    ) {
        self.client = client
        self.config = AWSServiceConfig(
            region: region,
            partition: region?.partition ?? partition,
            amzTarget: "AmazonMWAAServerless",
            serviceName: "MWAAServerless",
            serviceIdentifier: "airflow-serverless",
            serviceProtocol: .json(version: "1.0"),
            apiVersion: "2024-07-26",
            endpoint: endpoint,
            errorType: MWAAServerlessErrorType.self,
            middleware: middleware,
            timeout: timeout,
            byteBufferAllocator: byteBufferAllocator,
            options: options
        )
    }





    // MARK: API Calls

    /// Creates a new workflow in Amazon Managed Workflows for Apache Airflow Serverless. This operation initializes a workflow with the specified configuration including the workflow definition, execution role, and optional settings for encryption, logging, and networking. You must provide the workflow definition as a YAML file stored in Amazon S3 that defines the DAG structure using supported Amazon Web Services operators. Amazon Managed Workflows for Apache Airflow Serverless automatically creates the first version of the workflow and sets up the necessary execution environment with multi-tenant isolation and security controls.
    @Sendable
    @inlinable
    public func createWorkflow(_ input: CreateWorkflowRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> CreateWorkflowResponse {
        try await self.client.execute(
            operation: "CreateWorkflow", 
            path: "/workflows", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Creates a new workflow in Amazon Managed Workflows for Apache Airflow Serverless. This operation initializes a workflow with the specified configuration including the workflow definition, execution role, and optional settings for encryption, logging, and networking. You must provide the workflow definition as a YAML file stored in Amazon S3 that defines the DAG structure using supported Amazon Web Services operators. Amazon Managed Workflows for Apache Airflow Serverless automatically creates the first version of the workflow and sets up the necessary execution environment with multi-tenant isolation and security controls.
    ///
    /// Parameters:
    ///   - clientToken: A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. This token prevents duplicate workflow creation requests.
    ///   - definitionS3Location: The Amazon S3 location where the workflow definition file is stored. This must point to a valid YAML file that defines the workflow structure using supported Amazon Web Services operators and tasks. Amazon Managed Workflows for Apache Airflow Serverless takes a snapshot of the definition at creation time, so subsequent changes to the Amazon S3 object will not affect the workflow unless you create a new version. In your YAML definition, include task dependencies, scheduling information, and operator configurations that are compatible with the Amazon Managed Workflows for Apache Airflow Serverless execution environment.
    ///   - description: An optional description of the workflow that you can use to provide additional context about the workflow's purpose and functionality.
    ///   - encryptionConfiguration: The configuration for encrypting workflow data at rest and in transit. Specifies the encryption type and optional KMS key for customer-managed encryption.
    ///   - engineVersion: The version of the Amazon Managed Workflows for Apache Airflow Serverless engine that you want to use for this workflow. This determines the feature set, supported operators, and execution environment capabilities available to your workflow. Amazon Managed Workflows for Apache Airflow Serverless maintains backward compatibility across versions while introducing new features and improvements. Currently supports version 1 with plans for additional versions as the service evolves.
    ///   - loggingConfiguration: The configuration for workflow logging. Specifies the CloudWatch log group where workflow execution logs are stored. Amazon Managed Workflows for Apache Airflow Serverless automatically exports worker logs and task-level information to the specified log group in your account using remote logging functionality. This provides comprehensive observability for debugging and monitoring workflow execution across the distributed, serverless environment.
    ///   - name: The name of the workflow. You must use unique workflow names within your Amazon Web Services account. The service generates a unique identifier that is appended to ensure temporal uniqueness across the account lifecycle.
    ///   - networkConfiguration: Network configuration for the workflow execution environment, including VPC security groups and subnets for secure network access. When specified, Amazon Managed Workflows for Apache Airflow Serverless deploys ECS worker tasks in your customer VPC to provide secure connectivity to your resources. If not specified, tasks run in the service's default worker VPC with network isolation from other customers. This configuration enables secure access to VPC-only resources like RDS databases or private endpoints.
    ///   - roleArn: The Amazon Resource Name (ARN) of the IAM role that Amazon Managed Workflows for Apache Airflow Serverless assumes when executing the workflow. This role must have the necessary permissions to access the required Amazon Web Services services and resources that your workflow tasks will interact with. The role is used for task execution in the isolated, multi-tenant environment and should follow the principle of least privilege. Amazon Managed Workflows for Apache Airflow Serverless validates role access during workflow creation but runtime permission checks are performed by the target services.
    ///   - tags: A map of tags to assign to the workflow resource. Tags are key-value pairs that are used for resource organization and cost allocation.
    ///   - triggerMode: The trigger mode for the workflow execution.
    ///   - logger: Logger use during operation
    @inlinable
    public func createWorkflow(
        clientToken: String? = CreateWorkflowRequest.idempotencyToken(),
        definitionS3Location: DefinitionS3Location,
        description: String? = nil,
        encryptionConfiguration: EncryptionConfiguration? = nil,
        engineVersion: EngineVersion? = nil,
        loggingConfiguration: LoggingConfiguration? = nil,
        name: String,
        networkConfiguration: NetworkConfiguration? = nil,
        roleArn: String,
        tags: [String: String]? = nil,
        triggerMode: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> CreateWorkflowResponse {
        let input = CreateWorkflowRequest(
            clientToken: clientToken, 
            definitionS3Location: definitionS3Location, 
            description: description, 
            encryptionConfiguration: encryptionConfiguration, 
            engineVersion: engineVersion, 
            loggingConfiguration: loggingConfiguration, 
            name: name, 
            networkConfiguration: networkConfiguration, 
            roleArn: roleArn, 
            tags: tags, 
            triggerMode: triggerMode
        )
        return try await self.createWorkflow(input, logger: logger)
    }

    /// Deletes a workflow and all its versions. This operation permanently removes the workflow and cannot be undone. Amazon Managed Workflows for Apache Airflow Serverless ensures that all associated resources are properly cleaned up, including stopping any running executions, removing scheduled triggers, and cleaning up execution history. The deletion process respects the multi-tenant isolation boundaries and ensures that no residual data or configurations remain that could affect other customers or workflows.
    @Sendable
    @inlinable
    public func deleteWorkflow(_ input: DeleteWorkflowRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> DeleteWorkflowResponse {
        try await self.client.execute(
            operation: "DeleteWorkflow", 
            path: "/workflows/{WorkflowArn}", 
            httpMethod: .DELETE, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Deletes a workflow and all its versions. This operation permanently removes the workflow and cannot be undone. Amazon Managed Workflows for Apache Airflow Serverless ensures that all associated resources are properly cleaned up, including stopping any running executions, removing scheduled triggers, and cleaning up execution history. The deletion process respects the multi-tenant isolation boundaries and ensures that no residual data or configurations remain that could affect other customers or workflows.
    ///
    /// Parameters:
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow you want to delete.
    ///   - workflowVersion: Optional. The specific version of the workflow to delete. If not specified, all versions of the workflow are deleted.
    ///   - logger: Logger use during operation
    @inlinable
    public func deleteWorkflow(
        workflowArn: String,
        workflowVersion: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> DeleteWorkflowResponse {
        let input = DeleteWorkflowRequest(
            workflowArn: workflowArn, 
            workflowVersion: workflowVersion
        )
        return try await self.deleteWorkflow(input, logger: logger)
    }

    /// Retrieves detailed information about a specific task instance within a workflow run. Task instances represent individual tasks that are executed as part of a workflow in the Amazon Managed Workflows for Apache Airflow Serverless environment. Each task instance runs in an isolated ECS container with dedicated resources and security boundaries. The service tracks task execution state, retry attempts, and provides detailed timing and error information for troubleshooting and monitoring purposes.
    @Sendable
    @inlinable
    public func getTaskInstance(_ input: GetTaskInstanceRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> GetTaskInstanceResponse {
        try await self.client.execute(
            operation: "GetTaskInstance", 
            path: "/workflows/{WorkflowArn}/runs/{RunId}/tasks/{TaskInstanceId}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Retrieves detailed information about a specific task instance within a workflow run. Task instances represent individual tasks that are executed as part of a workflow in the Amazon Managed Workflows for Apache Airflow Serverless environment. Each task instance runs in an isolated ECS container with dedicated resources and security boundaries. The service tracks task execution state, retry attempts, and provides detailed timing and error information for troubleshooting and monitoring purposes.
    ///
    /// Parameters:
    ///   - runId: The unique identifier of the workflow run that contains the task instance.
    ///   - taskInstanceId: The unique identifier of the task instance to retrieve.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow that contains the task instance.
    ///   - logger: Logger use during operation
    @inlinable
    public func getTaskInstance(
        runId: String,
        taskInstanceId: String,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetTaskInstanceResponse {
        let input = GetTaskInstanceRequest(
            runId: runId, 
            taskInstanceId: taskInstanceId, 
            workflowArn: workflowArn
        )
        return try await self.getTaskInstance(input, logger: logger)
    }

    /// Retrieves detailed information about a workflow, including its configuration, status, and metadata.
    @Sendable
    @inlinable
    public func getWorkflow(_ input: GetWorkflowRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> GetWorkflowResponse {
        try await self.client.execute(
            operation: "GetWorkflow", 
            path: "/workflows/{WorkflowArn}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Retrieves detailed information about a workflow, including its configuration, status, and metadata.
    ///
    /// Parameters:
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow you want to retrieve.
    ///   - workflowVersion: Optional. The specific version of the workflow to retrieve. If not specified, the latest version is returned.
    ///   - logger: Logger use during operation
    @inlinable
    public func getWorkflow(
        workflowArn: String,
        workflowVersion: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetWorkflowResponse {
        let input = GetWorkflowRequest(
            workflowArn: workflowArn, 
            workflowVersion: workflowVersion
        )
        return try await self.getWorkflow(input, logger: logger)
    }

    /// Retrieves detailed information about a specific workflow run, including its status, execution details, and task instances.
    @Sendable
    @inlinable
    public func getWorkflowRun(_ input: GetWorkflowRunRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> GetWorkflowRunResponse {
        try await self.client.execute(
            operation: "GetWorkflowRun", 
            path: "/workflows/{WorkflowArn}/runs/{RunId}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Retrieves detailed information about a specific workflow run, including its status, execution details, and task instances.
    ///
    /// Parameters:
    ///   - runId: The unique identifier of the workflow run to retrieve.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow that contains the run.
    ///   - logger: Logger use during operation
    @inlinable
    public func getWorkflowRun(
        runId: String,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> GetWorkflowRunResponse {
        let input = GetWorkflowRunRequest(
            runId: runId, 
            workflowArn: workflowArn
        )
        return try await self.getWorkflowRun(input, logger: logger)
    }

    /// Lists all tags that are associated with a specified Amazon Managed Workflows for Apache Airflow Serverless resource.
    @Sendable
    @inlinable
    public func listTagsForResource(_ input: ListTagsForResourceRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListTagsForResourceResponse {
        try await self.client.execute(
            operation: "ListTagsForResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Lists all tags that are associated with a specified Amazon Managed Workflows for Apache Airflow Serverless resource.
    ///
    /// Parameters:
    ///   - resourceArn: The Amazon Resource Name (ARN) of the resource for which to list tags.
    ///   - logger: Logger use during operation
    @inlinable
    public func listTagsForResource(
        resourceArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListTagsForResourceResponse {
        let input = ListTagsForResourceRequest(
            resourceArn: resourceArn
        )
        return try await self.listTagsForResource(input, logger: logger)
    }

    /// Lists all task instances for a specific workflow run, with optional pagination support.
    @Sendable
    @inlinable
    public func listTaskInstances(_ input: ListTaskInstancesRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListTaskInstancesResponse {
        try await self.client.execute(
            operation: "ListTaskInstances", 
            path: "/workflows/{WorkflowArn}/runs/{RunId}/tasks", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Lists all task instances for a specific workflow run, with optional pagination support.
    ///
    /// Parameters:
    ///   - maxResults: The maximum number of task instances to return in a single response.
    ///   - nextToken: The pagination token you need to use to retrieve the next set of results. This value is returned from a previous call to ListTaskInstances.
    ///   - runId: The unique identifier of the workflow run for which you want a list of task instances.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow that contains the run.
    ///   - logger: Logger use during operation
    @inlinable
    public func listTaskInstances(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        runId: String,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListTaskInstancesResponse {
        let input = ListTaskInstancesRequest(
            maxResults: maxResults, 
            nextToken: nextToken, 
            runId: runId, 
            workflowArn: workflowArn
        )
        return try await self.listTaskInstances(input, logger: logger)
    }

    /// Lists all runs for a specified workflow, with optional pagination and filtering support.
    @Sendable
    @inlinable
    public func listWorkflowRuns(_ input: ListWorkflowRunsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListWorkflowRunsResponse {
        try await self.client.execute(
            operation: "ListWorkflowRuns", 
            path: "/workflows/{WorkflowArn}/runs", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Lists all runs for a specified workflow, with optional pagination and filtering support.
    ///
    /// Parameters:
    ///   - maxResults: The maximum number of workflow runs to return in a single response.
    ///   - nextToken: The pagination token you need to use to retrieve the next set of results. This value is returned from a previous call to ListWorkflowRuns.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow for which you want a list of runs.
    ///   - workflowVersion: Optional. The specific version of the workflow for which you want a list of runs. If not specified, runs for all versions are returned.
    ///   - logger: Logger use during operation
    @inlinable
    public func listWorkflowRuns(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        workflowArn: String,
        workflowVersion: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListWorkflowRunsResponse {
        let input = ListWorkflowRunsRequest(
            maxResults: maxResults, 
            nextToken: nextToken, 
            workflowArn: workflowArn, 
            workflowVersion: workflowVersion
        )
        return try await self.listWorkflowRuns(input, logger: logger)
    }

    /// Lists all versions of a specified workflow, with optional pagination support.
    @Sendable
    @inlinable
    public func listWorkflowVersions(_ input: ListWorkflowVersionsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListWorkflowVersionsResponse {
        try await self.client.execute(
            operation: "ListWorkflowVersions", 
            path: "/workflows/{WorkflowArn}/versions", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Lists all versions of a specified workflow, with optional pagination support.
    ///
    /// Parameters:
    ///   - maxResults: The maximum number of workflow versions to return in a single response.
    ///   - nextToken: The pagination token you need to use to retrieve the next set of results. This value is returned from a previous call to ListWorkflowVersions.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow for which you want to list versions.
    ///   - logger: Logger use during operation
    @inlinable
    public func listWorkflowVersions(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListWorkflowVersionsResponse {
        let input = ListWorkflowVersionsRequest(
            maxResults: maxResults, 
            nextToken: nextToken, 
            workflowArn: workflowArn
        )
        return try await self.listWorkflowVersions(input, logger: logger)
    }

    /// Lists all workflows in your account, with optional pagination support. This operation returns summary information for workflows, showing only the most recently created version of each workflow. Amazon Managed Workflows for Apache Airflow Serverless maintains workflow metadata in a highly available, distributed storage system that enables efficient querying and filtering. The service implements proper access controls to ensure you can only view workflows that you have permissions to access, supporting both individual and team-based workflow management scenarios.
    @Sendable
    @inlinable
    public func listWorkflows(_ input: ListWorkflowsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListWorkflowsResponse {
        try await self.client.execute(
            operation: "ListWorkflows", 
            path: "/workflows", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Lists all workflows in your account, with optional pagination support. This operation returns summary information for workflows, showing only the most recently created version of each workflow. Amazon Managed Workflows for Apache Airflow Serverless maintains workflow metadata in a highly available, distributed storage system that enables efficient querying and filtering. The service implements proper access controls to ensure you can only view workflows that you have permissions to access, supporting both individual and team-based workflow management scenarios.
    ///
    /// Parameters:
    ///   - maxResults: The maximum number of workflows you want to return in a single response.
    ///   - nextToken: The pagination token you need to use to retrieve the next set of results. This value is returned from a previous call to ListWorkflows.
    ///   - logger: Logger use during operation
    @inlinable
    public func listWorkflows(
        maxResults: Int? = nil,
        nextToken: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> ListWorkflowsResponse {
        let input = ListWorkflowsRequest(
            maxResults: maxResults, 
            nextToken: nextToken
        )
        return try await self.listWorkflows(input, logger: logger)
    }

    /// Starts a new execution of a workflow. This operation creates a workflow run that executes the tasks that are defined in the workflow. Amazon Managed Workflows for Apache Airflow Serverless schedules the workflow execution across its managed Airflow environment, automatically scaling ECS worker tasks based on the workload. The service handles task isolation, dependency resolution, and provides comprehensive monitoring and logging throughout the execution lifecycle.
    @Sendable
    @inlinable
    public func startWorkflowRun(_ input: StartWorkflowRunRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> StartWorkflowRunResponse {
        try await self.client.execute(
            operation: "StartWorkflowRun", 
            path: "/workflows/{WorkflowArn}/runs", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Starts a new execution of a workflow. This operation creates a workflow run that executes the tasks that are defined in the workflow. Amazon Managed Workflows for Apache Airflow Serverless schedules the workflow execution across its managed Airflow environment, automatically scaling ECS worker tasks based on the workload. The service handles task isolation, dependency resolution, and provides comprehensive monitoring and logging throughout the execution lifecycle.
    ///
    /// Parameters:
    ///   - clientToken: A unique, case-sensitive identifier that you provide to ensure the idempotency of the request. This token prevents duplicate workflow run requests.
    ///   - overrideParameters: Optional parameters to override default workflow parameters for this specific run. These parameters are passed to the workflow during execution and can be used to customize behavior without modifying the workflow definition. Parameters are made available as environment variables to tasks and you can reference them within the YAML workflow definition using standard parameter substitution syntax.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow you want to run.
    ///   - workflowVersion: Optional. The specific version of the workflow to execute. If not specified, the latest version is used.
    ///   - logger: Logger use during operation
    @inlinable
    public func startWorkflowRun(
        clientToken: String? = StartWorkflowRunRequest.idempotencyToken(),
        overrideParameters: [String: AWSDocument]? = nil,
        workflowArn: String,
        workflowVersion: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> StartWorkflowRunResponse {
        let input = StartWorkflowRunRequest(
            clientToken: clientToken, 
            overrideParameters: overrideParameters, 
            workflowArn: workflowArn, 
            workflowVersion: workflowVersion
        )
        return try await self.startWorkflowRun(input, logger: logger)
    }

    /// Stops a running workflow execution. This operation terminates all running tasks and prevents new tasks from starting. Amazon Managed Workflows for Apache Airflow Serverless gracefully shuts down the workflow execution by stopping task scheduling and terminating active ECS worker containers. The operation transitions the workflow run to a STOPPING state and then to STOPPED once all cleanup is complete. In-flight tasks may complete or be terminated depending on their current execution state.
    @Sendable
    @inlinable
    public func stopWorkflowRun(_ input: StopWorkflowRunRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> StopWorkflowRunResponse {
        try await self.client.execute(
            operation: "StopWorkflowRun", 
            path: "/workflows/{WorkflowArn}/runs/{RunId}", 
            httpMethod: .DELETE, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Stops a running workflow execution. This operation terminates all running tasks and prevents new tasks from starting. Amazon Managed Workflows for Apache Airflow Serverless gracefully shuts down the workflow execution by stopping task scheduling and terminating active ECS worker containers. The operation transitions the workflow run to a STOPPING state and then to STOPPED once all cleanup is complete. In-flight tasks may complete or be terminated depending on their current execution state.
    ///
    /// Parameters:
    ///   - runId: The unique identifier of the workflow run to stop.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow that contains the run you want to stop.
    ///   - logger: Logger use during operation
    @inlinable
    public func stopWorkflowRun(
        runId: String,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> StopWorkflowRunResponse {
        let input = StopWorkflowRunRequest(
            runId: runId, 
            workflowArn: workflowArn
        )
        return try await self.stopWorkflowRun(input, logger: logger)
    }

    /// Adds tags to an Amazon Managed Workflows for Apache Airflow Serverless resource. Tags are key-value pairs that help you organize and categorize your resources.
    @Sendable
    @inlinable
    public func tagResource(_ input: TagResourceRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> TagResourceResponse {
        try await self.client.execute(
            operation: "TagResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .POST, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Adds tags to an Amazon Managed Workflows for Apache Airflow Serverless resource. Tags are key-value pairs that help you organize and categorize your resources.
    ///
    /// Parameters:
    ///   - resourceArn: The Amazon Resource Name (ARN) of the resource to which to add tags.
    ///   - tags: A map of tags to add to the resource. Each tag consists of a key-value pair.
    ///   - logger: Logger use during operation
    @inlinable
    public func tagResource(
        resourceArn: String,
        tags: [String: String],
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> TagResourceResponse {
        let input = TagResourceRequest(
            resourceArn: resourceArn, 
            tags: tags
        )
        return try await self.tagResource(input, logger: logger)
    }

    /// Removes tags from an Amazon Managed Workflows for Apache Airflow Serverless resource. This operation removes the specified tags from the resource.
    @Sendable
    @inlinable
    public func untagResource(_ input: UntagResourceRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> UntagResourceResponse {
        try await self.client.execute(
            operation: "UntagResource", 
            path: "/tags/{ResourceArn}", 
            httpMethod: .DELETE, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Removes tags from an Amazon Managed Workflows for Apache Airflow Serverless resource. This operation removes the specified tags from the resource.
    ///
    /// Parameters:
    ///   - resourceArn: The Amazon Resource Name (ARN) of the resource from which to remove tags.
    ///   - tagKeys: A list of tag keys to remove from the resource. Only the keys are required; the values are ignored.
    ///   - logger: Logger use during operation
    @inlinable
    public func untagResource(
        resourceArn: String,
        tagKeys: [String],
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> UntagResourceResponse {
        let input = UntagResourceRequest(
            resourceArn: resourceArn, 
            tagKeys: tagKeys
        )
        return try await self.untagResource(input, logger: logger)
    }

    /// Updates an existing workflow with new configuration settings. This operation allows you to modify the workflow definition, role, and other settings. When you update a workflow, Amazon Managed Workflows for Apache Airflow Serverless automatically creates a new version with the updated configuration and disables scheduling on all previous versions to ensure only one version is actively scheduled at a time. The update operation maintains workflow history while providing a clean transition to the new configuration.
    @Sendable
    @inlinable
    public func updateWorkflow(_ input: UpdateWorkflowRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> UpdateWorkflowResponse {
        try await self.client.execute(
            operation: "UpdateWorkflow", 
            path: "/workflows/{WorkflowArn}", 
            httpMethod: .PUT, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
    /// Updates an existing workflow with new configuration settings. This operation allows you to modify the workflow definition, role, and other settings. When you update a workflow, Amazon Managed Workflows for Apache Airflow Serverless automatically creates a new version with the updated configuration and disables scheduling on all previous versions to ensure only one version is actively scheduled at a time. The update operation maintains workflow history while providing a clean transition to the new configuration.
    ///
    /// Parameters:
    ///   - definitionS3Location: The Amazon S3 location where the updated workflow definition file is stored.
    ///   - description: An updated description for the workflow.
    ///   - engineVersion: The version of the Amazon Managed Workflows for Apache Airflow Serverless engine that you want to use for the updated workflow.
    ///   - loggingConfiguration: Updated logging configuration for the workflow.
    ///   - networkConfiguration: Updated network configuration for the workflow execution environment.
    ///   - roleArn: The Amazon Resource Name (ARN) of the IAM role that Amazon Managed Workflows for Apache Airflow Serverless assumes when it executes the updated workflow.
    ///   - triggerMode: The trigger mode for the workflow execution.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow you want to update.
    ///   - logger: Logger use during operation
    @inlinable
    public func updateWorkflow(
        definitionS3Location: DefinitionS3Location,
        description: String? = nil,
        engineVersion: EngineVersion? = nil,
        loggingConfiguration: LoggingConfiguration? = nil,
        networkConfiguration: NetworkConfiguration? = nil,
        roleArn: String,
        triggerMode: String? = nil,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) async throws -> UpdateWorkflowResponse {
        let input = UpdateWorkflowRequest(
            definitionS3Location: definitionS3Location, 
            description: description, 
            engineVersion: engineVersion, 
            loggingConfiguration: loggingConfiguration, 
            networkConfiguration: networkConfiguration, 
            roleArn: roleArn, 
            triggerMode: triggerMode, 
            workflowArn: workflowArn
        )
        return try await self.updateWorkflow(input, logger: logger)
    }
}

extension MWAAServerless {
    /// Initializer required by `AWSService.with(middlewares:timeout:byteBufferAllocator:options)`. You are not able to use this initializer directly as there are not public
    /// initializers for `AWSServiceConfig.Patch`. Please use `AWSService.with(middlewares:timeout:byteBufferAllocator:options)` instead.
    public init(from: MWAAServerless, patch: AWSServiceConfig.Patch) {
        self.client = from.client
        self.config = from.config.with(patch: patch)
    }
}

// MARK: Paginators

@available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
extension MWAAServerless {
    /// Return PaginatorSequence for operation ``listTaskInstances(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listTaskInstancesPaginator(
        _ input: ListTaskInstancesRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListTaskInstancesRequest, ListTaskInstancesResponse> {
        return .init(
            input: input,
            command: self.listTaskInstances,
            inputKey: \ListTaskInstancesRequest.nextToken,
            outputKey: \ListTaskInstancesResponse.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listTaskInstances(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: The maximum number of task instances to return in a single response.
    ///   - runId: The unique identifier of the workflow run for which you want a list of task instances.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow that contains the run.
    ///   - logger: Logger used for logging
    @inlinable
    public func listTaskInstancesPaginator(
        maxResults: Int? = nil,
        runId: String,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListTaskInstancesRequest, ListTaskInstancesResponse> {
        let input = ListTaskInstancesRequest(
            maxResults: maxResults, 
            runId: runId, 
            workflowArn: workflowArn
        )
        return self.listTaskInstancesPaginator(input, logger: logger)
    }

    /// Return PaginatorSequence for operation ``listWorkflowRuns(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowRunsPaginator(
        _ input: ListWorkflowRunsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListWorkflowRunsRequest, ListWorkflowRunsResponse> {
        return .init(
            input: input,
            command: self.listWorkflowRuns,
            inputKey: \ListWorkflowRunsRequest.nextToken,
            outputKey: \ListWorkflowRunsResponse.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listWorkflowRuns(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: The maximum number of workflow runs to return in a single response.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow for which you want a list of runs.
    ///   - workflowVersion: Optional. The specific version of the workflow for which you want a list of runs. If not specified, runs for all versions are returned.
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowRunsPaginator(
        maxResults: Int? = nil,
        workflowArn: String,
        workflowVersion: String? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListWorkflowRunsRequest, ListWorkflowRunsResponse> {
        let input = ListWorkflowRunsRequest(
            maxResults: maxResults, 
            workflowArn: workflowArn, 
            workflowVersion: workflowVersion
        )
        return self.listWorkflowRunsPaginator(input, logger: logger)
    }

    /// Return PaginatorSequence for operation ``listWorkflowVersions(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowVersionsPaginator(
        _ input: ListWorkflowVersionsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListWorkflowVersionsRequest, ListWorkflowVersionsResponse> {
        return .init(
            input: input,
            command: self.listWorkflowVersions,
            inputKey: \ListWorkflowVersionsRequest.nextToken,
            outputKey: \ListWorkflowVersionsResponse.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listWorkflowVersions(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: The maximum number of workflow versions to return in a single response.
    ///   - workflowArn: The Amazon Resource Name (ARN) of the workflow for which you want to list versions.
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowVersionsPaginator(
        maxResults: Int? = nil,
        workflowArn: String,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListWorkflowVersionsRequest, ListWorkflowVersionsResponse> {
        let input = ListWorkflowVersionsRequest(
            maxResults: maxResults, 
            workflowArn: workflowArn
        )
        return self.listWorkflowVersionsPaginator(input, logger: logger)
    }

    /// Return PaginatorSequence for operation ``listWorkflows(_:logger:)``.
    ///
    /// - Parameters:
    ///   - input: Input for operation
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowsPaginator(
        _ input: ListWorkflowsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListWorkflowsRequest, ListWorkflowsResponse> {
        return .init(
            input: input,
            command: self.listWorkflows,
            inputKey: \ListWorkflowsRequest.nextToken,
            outputKey: \ListWorkflowsResponse.nextToken,
            logger: logger
        )
    }
    /// Return PaginatorSequence for operation ``listWorkflows(_:logger:)``.
    ///
    /// - Parameters:
    ///   - maxResults: The maximum number of workflows you want to return in a single response.
    ///   - logger: Logger used for logging
    @inlinable
    public func listWorkflowsPaginator(
        maxResults: Int? = nil,
        logger: Logger = AWSClient.loggingDisabled        
    ) -> AWSClient.PaginatorSequence<ListWorkflowsRequest, ListWorkflowsResponse> {
        let input = ListWorkflowsRequest(
            maxResults: maxResults
        )
        return self.listWorkflowsPaginator(input, logger: logger)
    }
}

extension MWAAServerless.ListTaskInstancesRequest: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> MWAAServerless.ListTaskInstancesRequest {
        return .init(
            maxResults: self.maxResults,
            nextToken: token,
            runId: self.runId,
            workflowArn: self.workflowArn
        )
    }
}

extension MWAAServerless.ListWorkflowRunsRequest: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> MWAAServerless.ListWorkflowRunsRequest {
        return .init(
            maxResults: self.maxResults,
            nextToken: token,
            workflowArn: self.workflowArn,
            workflowVersion: self.workflowVersion
        )
    }
}

extension MWAAServerless.ListWorkflowVersionsRequest: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> MWAAServerless.ListWorkflowVersionsRequest {
        return .init(
            maxResults: self.maxResults,
            nextToken: token,
            workflowArn: self.workflowArn
        )
    }
}

extension MWAAServerless.ListWorkflowsRequest: AWSPaginateToken {
    @inlinable
    public func usingPaginationToken(_ token: String) -> MWAAServerless.ListWorkflowsRequest {
        return .init(
            maxResults: self.maxResults,
            nextToken: token
        )
    }
}
