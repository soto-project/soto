//===----------------------------------------------------------------------===//
//
// This source file is part of the Soto for AWS open source project
//
// Copyright (c) 2017-2024 the Soto project authors
// Licensed under Apache License v2.0
//
// See LICENSE.txt for license information
// See CONTRIBUTORS.txt for the list of Soto project authors
//
// SPDX-License-Identifier: Apache-2.0
//
//===----------------------------------------------------------------------===//

// THIS FILE IS AUTOMATICALLY GENERATED by https://github.com/soto-project/soto-codegenerator.
// DO NOT EDIT.

@_exported import SotoCore

/// Service object for interacting with AWS TrustedAdvisor service.
///
/// TrustedAdvisor Public API
public struct TrustedAdvisor: AWSService {
    // MARK: Member variables

    /// Client used for communication with AWS
    public let client: AWSClient
    /// Service configuration
    public let config: AWSServiceConfig

    // MARK: Initialization

    /// Initialize the TrustedAdvisor client
    /// - parameters:
    ///     - client: AWSClient used to process requests
    ///     - region: Region of server you want to communicate with. This will override the partition parameter.
    ///     - partition: AWS partition where service resides, standard (.aws), china (.awscn), government (.awsusgov).
    ///     - endpoint: Custom endpoint URL to use instead of standard AWS servers
    ///     - middleware: Middleware chain used to edit requests before they are sent and responses before they are decoded 
    ///     - timeout: Timeout value for HTTP requests
    ///     - byteBufferAllocator: Allocator for ByteBuffers
    ///     - options: Service options
    public init(
        client: AWSClient,
        region: SotoCore.Region? = nil,
        partition: AWSPartition = .aws,
        endpoint: String? = nil,
        middleware: AWSMiddlewareProtocol? = nil,
        timeout: TimeAmount? = nil,
        byteBufferAllocator: ByteBufferAllocator = ByteBufferAllocator(),
        options: AWSServiceConfig.Options = []
    ) {
        self.client = client
        self.config = AWSServiceConfig(
            region: region,
            partition: region?.partition ?? partition,
            serviceName: "TrustedAdvisor",
            serviceIdentifier: "trustedadvisor",
            serviceProtocol: .restjson,
            apiVersion: "2022-09-15",
            endpoint: endpoint,
            errorType: TrustedAdvisorErrorType.self,
            middleware: middleware,
            timeout: timeout,
            byteBufferAllocator: byteBufferAllocator,
            options: options
        )
    }





    // MARK: API Calls

    /// Update one or more exclusion status for a list of recommendation resources
    @Sendable
    public func batchUpdateRecommendationResourceExclusion(_ input: BatchUpdateRecommendationResourceExclusionRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> BatchUpdateRecommendationResourceExclusionResponse {
        return try await self.client.execute(
            operation: "BatchUpdateRecommendationResourceExclusion", 
            path: "/v1/batch-update-recommendation-resource-exclusion", 
            httpMethod: .PUT, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// Get a specific recommendation within an AWS Organizations organization. This API supports only prioritized recommendations.
    @Sendable
    public func getOrganizationRecommendation(_ input: GetOrganizationRecommendationRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> GetOrganizationRecommendationResponse {
        return try await self.client.execute(
            operation: "GetOrganizationRecommendation", 
            path: "/v1/organization-recommendations/{organizationRecommendationIdentifier}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// Get a specific Recommendation
    @Sendable
    public func getRecommendation(_ input: GetRecommendationRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> GetRecommendationResponse {
        return try await self.client.execute(
            operation: "GetRecommendation", 
            path: "/v1/recommendations/{recommendationIdentifier}", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// List a filterable set of Checks
    @Sendable
    public func listChecks(_ input: ListChecksRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListChecksResponse {
        return try await self.client.execute(
            operation: "ListChecks", 
            path: "/v1/checks", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// Lists the accounts that own the resources for an organization aggregate recommendation. This API only supports prioritized recommendations.
    @Sendable
    public func listOrganizationRecommendationAccounts(_ input: ListOrganizationRecommendationAccountsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListOrganizationRecommendationAccountsResponse {
        return try await self.client.execute(
            operation: "ListOrganizationRecommendationAccounts", 
            path: "/v1/organization-recommendations/{organizationRecommendationIdentifier}/accounts", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// List Resources of a Recommendation within an Organization. This API only supports prioritized recommendations.
    @Sendable
    public func listOrganizationRecommendationResources(_ input: ListOrganizationRecommendationResourcesRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListOrganizationRecommendationResourcesResponse {
        return try await self.client.execute(
            operation: "ListOrganizationRecommendationResources", 
            path: "/v1/organization-recommendations/{organizationRecommendationIdentifier}/resources", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// List a filterable set of Recommendations within an Organization. This API only supports prioritized recommendations.
    @Sendable
    public func listOrganizationRecommendations(_ input: ListOrganizationRecommendationsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListOrganizationRecommendationsResponse {
        return try await self.client.execute(
            operation: "ListOrganizationRecommendations", 
            path: "/v1/organization-recommendations", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// List Resources of a Recommendation
    @Sendable
    public func listRecommendationResources(_ input: ListRecommendationResourcesRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListRecommendationResourcesResponse {
        return try await self.client.execute(
            operation: "ListRecommendationResources", 
            path: "/v1/recommendations/{recommendationIdentifier}/resources", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// List a filterable set of Recommendations
    @Sendable
    public func listRecommendations(_ input: ListRecommendationsRequest, logger: Logger = AWSClient.loggingDisabled) async throws -> ListRecommendationsResponse {
        return try await self.client.execute(
            operation: "ListRecommendations", 
            path: "/v1/recommendations", 
            httpMethod: .GET, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// Update the lifecycle of a Recommendation within an Organization. This API only supports prioritized recommendations.
    @Sendable
    public func updateOrganizationRecommendationLifecycle(_ input: UpdateOrganizationRecommendationLifecycleRequest, logger: Logger = AWSClient.loggingDisabled) async throws {
        return try await self.client.execute(
            operation: "UpdateOrganizationRecommendationLifecycle", 
            path: "/v1/organization-recommendations/{organizationRecommendationIdentifier}/lifecycle", 
            httpMethod: .PUT, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }

    /// Update the lifecyle of a Recommendation. This API only supports prioritized recommendations.
    @Sendable
    public func updateRecommendationLifecycle(_ input: UpdateRecommendationLifecycleRequest, logger: Logger = AWSClient.loggingDisabled) async throws {
        return try await self.client.execute(
            operation: "UpdateRecommendationLifecycle", 
            path: "/v1/recommendations/{recommendationIdentifier}/lifecycle", 
            httpMethod: .PUT, 
            serviceConfig: self.config, 
            input: input, 
            logger: logger
        )
    }
}

extension TrustedAdvisor {
    /// Initializer required by `AWSService.with(middlewares:timeout:byteBufferAllocator:options)`. You are not able to use this initializer directly as there are not public
    /// initializers for `AWSServiceConfig.Patch`. Please use `AWSService.with(middlewares:timeout:byteBufferAllocator:options)` instead.
    public init(from: TrustedAdvisor, patch: AWSServiceConfig.Patch) {
        self.client = from.client
        self.config = from.config.with(patch: patch)
    }
}

// MARK: Paginators

@available(macOS 10.15, iOS 13.0, tvOS 13.0, watchOS 6.0, *)
extension TrustedAdvisor {
    /// List a filterable set of Checks
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listChecksPaginator(
        _ input: ListChecksRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListChecksRequest, ListChecksResponse> {
        return .init(
            input: input,
            command: self.listChecks,
            inputKey: \ListChecksRequest.nextToken,
            outputKey: \ListChecksResponse.nextToken,
            logger: logger
        )
    }

    /// Lists the accounts that own the resources for an organization aggregate recommendation. This API only supports prioritized recommendations.
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listOrganizationRecommendationAccountsPaginator(
        _ input: ListOrganizationRecommendationAccountsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListOrganizationRecommendationAccountsRequest, ListOrganizationRecommendationAccountsResponse> {
        return .init(
            input: input,
            command: self.listOrganizationRecommendationAccounts,
            inputKey: \ListOrganizationRecommendationAccountsRequest.nextToken,
            outputKey: \ListOrganizationRecommendationAccountsResponse.nextToken,
            logger: logger
        )
    }

    /// List Resources of a Recommendation within an Organization. This API only supports prioritized recommendations.
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listOrganizationRecommendationResourcesPaginator(
        _ input: ListOrganizationRecommendationResourcesRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListOrganizationRecommendationResourcesRequest, ListOrganizationRecommendationResourcesResponse> {
        return .init(
            input: input,
            command: self.listOrganizationRecommendationResources,
            inputKey: \ListOrganizationRecommendationResourcesRequest.nextToken,
            outputKey: \ListOrganizationRecommendationResourcesResponse.nextToken,
            logger: logger
        )
    }

    /// List a filterable set of Recommendations within an Organization. This API only supports prioritized recommendations.
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listOrganizationRecommendationsPaginator(
        _ input: ListOrganizationRecommendationsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListOrganizationRecommendationsRequest, ListOrganizationRecommendationsResponse> {
        return .init(
            input: input,
            command: self.listOrganizationRecommendations,
            inputKey: \ListOrganizationRecommendationsRequest.nextToken,
            outputKey: \ListOrganizationRecommendationsResponse.nextToken,
            logger: logger
        )
    }

    /// List Resources of a Recommendation
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listRecommendationResourcesPaginator(
        _ input: ListRecommendationResourcesRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListRecommendationResourcesRequest, ListRecommendationResourcesResponse> {
        return .init(
            input: input,
            command: self.listRecommendationResources,
            inputKey: \ListRecommendationResourcesRequest.nextToken,
            outputKey: \ListRecommendationResourcesResponse.nextToken,
            logger: logger
        )
    }

    /// List a filterable set of Recommendations
    /// Return PaginatorSequence for operation.
    ///
    /// - Parameters:
    ///   - input: Input for request
    ///   - logger: Logger used flot logging
    public func listRecommendationsPaginator(
        _ input: ListRecommendationsRequest,
        logger: Logger = AWSClient.loggingDisabled
    ) -> AWSClient.PaginatorSequence<ListRecommendationsRequest, ListRecommendationsResponse> {
        return .init(
            input: input,
            command: self.listRecommendations,
            inputKey: \ListRecommendationsRequest.nextToken,
            outputKey: \ListRecommendationsResponse.nextToken,
            logger: logger
        )
    }
}

extension TrustedAdvisor.ListChecksRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListChecksRequest {
        return .init(
            awsService: self.awsService,
            language: self.language,
            maxResults: self.maxResults,
            nextToken: token,
            pillar: self.pillar,
            source: self.source
        )
    }
}

extension TrustedAdvisor.ListOrganizationRecommendationAccountsRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListOrganizationRecommendationAccountsRequest {
        return .init(
            affectedAccountId: self.affectedAccountId,
            maxResults: self.maxResults,
            nextToken: token,
            organizationRecommendationIdentifier: self.organizationRecommendationIdentifier
        )
    }
}

extension TrustedAdvisor.ListOrganizationRecommendationResourcesRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListOrganizationRecommendationResourcesRequest {
        return .init(
            affectedAccountId: self.affectedAccountId,
            exclusionStatus: self.exclusionStatus,
            maxResults: self.maxResults,
            nextToken: token,
            organizationRecommendationIdentifier: self.organizationRecommendationIdentifier,
            regionCode: self.regionCode,
            status: self.status
        )
    }
}

extension TrustedAdvisor.ListOrganizationRecommendationsRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListOrganizationRecommendationsRequest {
        return .init(
            afterLastUpdatedAt: self.afterLastUpdatedAt,
            awsService: self.awsService,
            beforeLastUpdatedAt: self.beforeLastUpdatedAt,
            checkIdentifier: self.checkIdentifier,
            maxResults: self.maxResults,
            nextToken: token,
            pillar: self.pillar,
            source: self.source,
            status: self.status,
            type: self.type
        )
    }
}

extension TrustedAdvisor.ListRecommendationResourcesRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListRecommendationResourcesRequest {
        return .init(
            exclusionStatus: self.exclusionStatus,
            maxResults: self.maxResults,
            nextToken: token,
            recommendationIdentifier: self.recommendationIdentifier,
            regionCode: self.regionCode,
            status: self.status
        )
    }
}

extension TrustedAdvisor.ListRecommendationsRequest: AWSPaginateToken {
    public func usingPaginationToken(_ token: String) -> TrustedAdvisor.ListRecommendationsRequest {
        return .init(
            afterLastUpdatedAt: self.afterLastUpdatedAt,
            awsService: self.awsService,
            beforeLastUpdatedAt: self.beforeLastUpdatedAt,
            checkIdentifier: self.checkIdentifier,
            maxResults: self.maxResults,
            nextToken: token,
            pillar: self.pillar,
            source: self.source,
            status: self.status,
            type: self.type
        )
    }
}
